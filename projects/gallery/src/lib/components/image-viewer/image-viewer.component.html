<ngx-chevron-icon
  *ngIf="showPrevArrow"
  class="prev"
  (click)="prev()"
></ngx-chevron-icon>

<ul
  #imageList
  class="images"
  [class.images--hidden]="!imagesShown"
  [style.scrollBehavior]="scrollBehavior"
>
  <li class="fringe-item" [style.width.px]="fringeItemWidth"></li>
  <li *ngIf="!items || !items.length">
    <div class="loading">
      <div class="animation active"></div>
    </div>
  </li>
  <li
    *ngFor="let item of items; let i = index"
    class="item"
    (click)="imageClick.emit($event)"
  >
    <img
      *ngIf="!imageTemplate; else customTemplate"
      [src]="imageLoading === 'lazy' ? '' : item.src"
      [class.lazy]="imageLoading === 'lazy' && !item._loaded"
      [attr.data-src]="item.src"
      [style.objectFit]="imageFit"
      (load)="onLazyLoaded(item)"
    />
    <ng-template #customTemplate>
      <ng-container
        *ngTemplateOutlet="
          imageTemplate;
          context: { index: i, selectedIndex: selectedItem, item: item }
        "
      ></ng-container>
    </ng-template>

    <div class="loading" *ngIf="!item._loaded">
      <div
        class="animation"
        [class.active]="
          (item._loading && !item._loaded) || imageLoading !== 'lazy'
        "
      ></div>
    </div>
  </li>
  <li class="fringe-item" [style.width.px]="fringeItemWidth"></li>
</ul>

<ngx-chevron-icon
  *ngIf="showNextArrow"
  class="next"
  (click)="next()"
></ngx-chevron-icon>

<ngx-image-counter
  *ngIf="imageCounter"
  [itemQuantity]="items?.length"
  [selectedItem]="selectedItem"
></ngx-image-counter>
